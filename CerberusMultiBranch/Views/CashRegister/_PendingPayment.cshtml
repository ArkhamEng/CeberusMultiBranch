@model ICollection<CerberusMultiBranch.Models.Entities.Operative.Sale>

<div id="ModalPendingPayment" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content panel panel-danger panel-group">
            <div class="modal-header panel-heading">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title text-uppercase">
                    <span class="fa fa-credit-card" style="float:left">
                    </span>
                    &nbsp;Cobros pendientes
                </h4>
            </div>
            <div class="modal-body">
                <table id="tbPendingPayment" class="table table-striped small">
                    <thead>
                        <tr>
                            <th class="col-md-1 text-center">@Html.DisplayName("Folio")</th>
                            <th class="col-md-5 text-center">@Html.DisplayName("Cliente")</th>

                            <th class="col-md-2 text-center">@Html.DisplayName("Fecha venta")</th>
                            <th class="col-md-1 text-center">@Html.DisplayName("Envío")</th>
                            <th class="col-md-1 text-center">@Html.DisplayNameFor(m => m.First().TotalAmount)</th>

                            <th class="col-md-1 text-center">@Html.DisplayName("Status")</th>
                            <th class="col-md-1 text-center" />
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>@Html.DisplayFor(m => item.Folio)</td>
                                <td>@Html.DisplayFor(m => item.Client.Name)</td>

                                <td align="center">@item.TransactionDate.ToString("dd/MM/yyyy HH:mm")</td>
                                <td align="center">
                                    @{ var sending = "Mostrador"; }

                                    @if (item.SendingType != 0)
                                    {
                                        sending = "Domicilio";
                                    }

                                    @Html.DisplayFor(m => sending)
                                </td>
                                <td align="center">@Html.DisplayFor(m => item.TotalAmount)</td>

                                <td align="center" class="alert alert-info">
                                    Rerservado
                                </td>
                                <td align="center">
                                    <button class="btn btn-danger  btn-xs" title="Recibir pago" onclick="window.location = '@Url.Action("RegistPayment", new { id = item.SaleId })'">
                                        <span class="fa fa-money" />
                                    </button>
                                </td>
                            </tr>
                          }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function ()
    {
        Paginate("#tbPendingPayment", 8);

        $("#ModalPendingPayment").modal("show");
    });
</script>