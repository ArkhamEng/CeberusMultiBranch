@model IEnumerable<CerberusMultiBranch.Models.Entities.Config.Category>

@{
    ViewBag.Title = "Index";
}

<h3>
    <span class="glyphicon glyphicon-list-alt" style="float:left"></span>
    &nbsp;&nbsp;Categorías de productos
</h3>



<div class="col-md-6">
    <div class="input-group ">
        <span class="input-group-addon"><i class="glyphicon glyphicon-filter"></i></span>
        @Html.TextBox("Name", "", htmlAttributes: new { @class = "form-control" })
        <span class="input-group-btn">
            <button class="btn btn-warning" id="btnCreate">
                <span class="glyphicon glyphicon-plus" />
            </button>
        </span>
    </div>
</div>

<br /><br /><br />

<div class="col-md-8">
    <table id="tbCategories" class="table table-striped ">
        <thead>
            <tr>
                <th class="col-md-6">
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td class="form-group" align="right">
                        @Html.ActionLink(" ", "Edit", new { id = item.CategoryId }, new { @class = "btn btn-primary glyphicon glyphicon-pencil btn-xs" })
                        @Html.ActionLink(" ", "Delete", new { id = item.CategoryId }, new { @class = "btn btn-danger glyphicon glyphicon-trash btn-xs" })
                    </td>
                </tr>
            }
        </tbody>

    </table>
</div>

<script>
    $(document).ready(function ()
    {
        LoadList();

        $("#btnCreate").click(function () { window.location.replace('@Url.Action("Create")') });
    })

    function LoadList()
    {
        var oTable = $("#tbCategories").DataTable(
        {
            destroy: true,
            "lengthChange": true,
            "searching": true,
            "lengthMenu": [[3, 5, 10, -1], [3, 5, 10, "All"]],
            "pageLength": 10,
            "language": {
                "search": "filtrar resultados",
                "lengthMenu": "mostrar  _MENU_ ",
                "zeroRecords": "no hay datos disponibles",
                "info": "página _PAGE_ de _PAGES_",
                "infoEmpty": "",
                "infoFiltered": "(filtered from _MAX_ total records)",
                "paginate": {
                    "previous": "Anterior",
                    "next": "Siguiente"
                }
            }
        });


        $("#Name").keyup(function () {
            oTable.data().search(this.value).draw();
        });
    }
</script>