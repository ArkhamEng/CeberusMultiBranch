@model CerberusMultiBranch.Models.Entities.Operative.Sale

@{
    ViewBag.Title = "Carrito";
}

@Scripts.Render("~/bundles/jqueryval")
<script>
    HalfProgress();
</script>

<h3>
    <span class="fa fa-shopping-cart" style="float:left"></span>
    &nbsp;&nbsp;Carrito de compras
</h3>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })


    @Html.HiddenFor(m => m.BranchId)
    @Html.HiddenFor(m => m.TransactionId)
    @Html.HiddenFor(m => m.TransactionTypeId)
    @Html.HiddenFor(m => m.UserId)
    @Html.HiddenFor(m => m.IsCompleated)
    @Html.HiddenFor(m => m.EmployeeId)
    @Html.HiddenFor(m => m.ClientId)

    <h4 id="hClientName" class="text-danger"></h4>

        <div class="panel panel-danger col-md-12">
            <div id="divDetails" class="panel-body">
                @Html.Partial("_Details", Model.TransactionDetails)
            </div>
        </div>

        <div class="panel panel-danger">
            <div class="panel-body row">
                <div class="col-md-6 btn-group">
                    <button class="btn btn-primary" type="button">
                        <span class="fa fa-exchange"></span>
                        Cambio de tarifa
                    </button>

                    <button id="btnShowClients" class="btn btn-success" type="button">
                        <span class="fa fa-user-plus"></span>
                        Cargo a cliente
                    </button>

                    <button class="btn btn-danger" type="button" id="btnChoosPayment">
                        <span class="fa fa-usd"></span>
                        Realizar Pago
                    </button>
                </div>
            </div>
        </div>

}

@Html.Partial("_QuickClient")

@Html.Partial("_ChoosePayment")

<script>
    $(document).ready(function () {
        $("#btnShowClients").click(function ()
        {
            $("#ModalQuickClient").modal('show');
        });

        $("#btnChoosPayment").click(function () {
            $("#ModalPayment").modal('show');
        });

        

        CompleateProgress();
    });

    function ClientSelected(id, name, ftr) {
        $("#ClientId").text(id);
        var title = "Cliente:  " + name
        if (ftr != '')
             title +="               RFC: " + ftr;

        $("#hClientName").text(title);
        $("#ModalQuickClient").modal('hide');
    }

</script>

